<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Component Test - GlobalTradePro</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background: #1a1a1a; 
            color: white; 
        }
        .test-section { 
            margin: 20px 0; 
            padding: 20px; 
            background: rgba(255,255,255,0.05); 
            border-radius: 8px; 
            border: 1px solid rgba(255,255,255,0.1);
        }
        .success { color: #10b981; }
        .error { color: #ef4444; }
        .info { color: #3b82f6; }
        button { 
            padding: 10px 20px; 
            margin: 5px; 
            border: none; 
            border-radius: 5px; 
            background: #007bff; 
            color: white; 
            cursor: pointer; 
        }
        button:hover { background: #0056b3; }
        .component-preview {
            margin: 20px 0;
            padding: 20px;
            background: rgba(255,255,255,0.02);
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.05);
            max-height: 400px;
            overflow-y: auto;
        }
        .component-preview h4 {
            margin-top: 0;
            color: #10b981;
        }
    </style>
</head>
<body>
    <h1>üîß Component Test Tool</h1>
    
    <div class="test-section">
        <h3>Component Loading Test</h3>
        <p>Bu ara√ß t√ºm component dosyalarƒ±nƒ±n doƒüru y√ºklenip y√ºklenmediƒüini test eder.</p>
        <button onclick="testAllComponents()">T√ºm Componentleri Test Et</button>
        <button onclick="clearResults()">Sonu√ßlarƒ± Temizle</button>
    </div>
    
    <div class="test-section">
        <h3>Test Sonu√ßlarƒ±</h3>
        <div id="testResults"></div>
    </div>
    
    <div class="test-section">
        <h3>Component √ñnizlemeleri</h3>
        <div id="componentPreviews"></div>
    </div>

    <script>
        const components = [
            { name: 'Sidebar', file: 'sidebar.html' },
            { name: 'Dashboard', file: 'dashboard.html' },
            { name: 'Portfolio', file: 'portfolio.html' },
            { name: 'Markets', file: 'markets.html' },
            { name: 'Trading', file: 'trading.html' },
            { name: 'Positions', file: 'positions.html' },
            { name: 'Deposit', file: 'deposit.html' },
            { name: 'Withdrawal', file: 'withdrawal.html' },
            { name: 'Profile', file: 'profile.html' }
        ];
        
        async function testAllComponents() {
            const resultsDiv = document.getElementById('testResults');
            const previewsDiv = document.getElementById('componentPreviews');
            
            resultsDiv.innerHTML = '<p>üîÑ Componentler test ediliyor...</p>';
            previewsDiv.innerHTML = '';
            
            let results = [];
            let previews = [];
            
            for (const component of components) {
                try {
                    const response = await fetch(`assets/components/${component.file}`);
                    if (response.ok) {
                        const html = await response.text();
                        const status = '‚úÖ Y√ºklendi';
                        const size = `${html.length} karakter`;
                        
                        results.push(`<div class="success">${component.name}: ${status} (${size})</div>`);
                        
                        // Create preview
                        previews.push(`
                            <div class="component-preview">
                                <h4>${component.name}</h4>
                                <div style="color: #8896ab; font-size: 12px;">
                                    <strong>Dosya:</strong> ${component.file}<br>
                                    <strong>Boyut:</strong> ${size}<br>
                                    <strong>Durum:</strong> ${status}
                                </div>
                                <hr style="border-color: rgba(255,255,255,0.1); margin: 15px 0;">
                                <div style="font-size: 12px; color: #cbd5e1; max-height: 200px; overflow-y: auto;">
                                    ${html.substring(0, 500)}${html.length > 500 ? '...' : ''}
                                </div>
                            </div>
                        `);
                        
                    } else {
                        results.push(`<div class="error">${component.name}: ‚ùå HTTP ${response.status}</div>`);
                    }
                } catch (error) {
                    results.push(`<div class="error">${component.name}: ‚ùå ${error.message}</div>`);
                }
            }
            
            resultsDiv.innerHTML = `
                <h4>Test Tamamlandƒ±</h4>
                ${results.join('')}
            `;
            
            previewsDiv.innerHTML = previews.join('');
        }
        
        function clearResults() {
            document.getElementById('testResults').innerHTML = '';
            document.getElementById('componentPreviews').innerHTML = '';
        }
        
        // Auto-run test on load
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(testAllComponents, 1000);
        });
    </script>
</body>
</html>
